!function(){var a,n,e;a={},Papa.parse("assets/data/nhi-108-boss.csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(n){return a.boss=n.data,a.boss.sort(function(a,n){return a.salary-n.salaray}),e()}}),Papa.parse("assets/data/nhi-109-worker.csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(n){return a.worker=n.data,a.worker.sort(function(a,n){return a.salary-n.salaray}),e()}}),n={},["salary","family-count","is-boss","pay","bli-idv","bli-com","bli-salary","bli-ret","bli","nhi-idv","nhi-com","nhi","disaster-rate"].map(function(a){return n[a]=ld$.find(document,"*[data-var="+a+"]",0)}),n.salary.addEventListener("keyup",function(){return e()}),n["family-count"].addEventListener("change",function(){return e()}),n["is-boss"].addEventListener("click",function(){return e()}),n["is-boss"].addEventListener("input",function(){return e()}),n["disaster-rate"].addEventListener("input",function(){return e()}),(e=function(){var e,r,t,i,s,u,l,o,d,c,v;if(e=+n.salary.value,r=n["is-boss"].checked,t=[10,1,+n["disaster-rate"].value].map(function(a){return e*a*.01}),i=t[0]+(r?0:t[1]),n["bli-idv"].value=s=Math.round(.2*i),n["bli-com"].value=Math.round(.7*i)+Math.round(t[2]),n["bli-salary"].value=r?0:Math.round(.025*e*.01),n["bli-ret"].value=Math.round(.06*e),n.bli.value=+n["bli-idv"].value+ +n["bli-com"].value+ +n["bli-salary"].value,u=r?a.boss:a.worker)for(l=u.length-1;l>=0;--l)if(o=l,!(null==(d=u[o]).salary||d.salary>e)){c=d["p"+ +n["family-count"].value],v=d.com||0,n["nhi-idv"].value=c,n["nhi-com"].value=v,n.nhi.value=c+v,s+=c;break}return n.pay.value=e-s})()}();