!function(){var a,e,n,i;a={},Papa.parse("assets/data/nhi-111-boss.csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(e){return a.boss=e.data,a.boss.sort(function(a,e){return a.salary-e.salaray}),i()}}),Papa.parse("assets/data/nhi-111-worker.csv",{download:!0,header:!0,dynamicTyping:!0,complete:function(e){return a.worker=e.data,a.worker.sort(function(a,e){return a.salary-e.salaray}),i()}}),e={},n={"bli-idv":.2,"bli-com":.7,"bli-gov":.1,"普通保費":.105,"就業保費":.01,"工資墊償":25e-5},["salary","family-count","is-boss","pay","bli-idv","bli-com","bli-salary","bli","bli-ret","nhi-idv","nhi-com","nhi","disaster-rate","bill-total"].map(function(a){return e[a]=ld$.find(document,"*[data-var="+a+"]",0)}),e.salary.addEventListener("keyup",function(){return i()}),e["family-count"].addEventListener("change",function(){return i()}),e["is-boss"].addEventListener("click",function(){return i()}),e["is-boss"].addEventListener("input",function(){return i()}),e["disaster-rate"].addEventListener("input",function(){return i()}),(i=function(){var i,r,t,l,u,o,s,d,c,v,b;if(i=+e.salary.value,r=e["is-boss"].checked,t=[n["普通保費"],n["就業保費"],.01*+e["disaster-rate"].value].map(function(a){return i*a}),l=t[0]+(r?0:t[1]),e["bli-idv"].value=u=Math.round(l*n["bli-idv"]),e["bli-com"].value=Math.round(l*n["bli-com"])+Math.round(t[2]),e["bli-salary"].value=r?0:Math.round(i*n["工資墊償"]),e["bli-ret"].value=r?0:Math.round(.06*i),e.bli.value=+e["bli-idv"].value+ +e["bli-com"].value+ +e["bli-salary"].value,o=r?a.boss:a.worker)for(s=o.length-1;s>=0;--s)if(d=s,!(null==(c=o[d]).salary||c.salary>i)){v=c["p"+ +e["family-count"].value],b=c.com||0,e["nhi-idv"].value=v,e["nhi-com"].value=b,e.nhi.value=v+b,u+=v;break}return e.pay.value=i-u,e["bill-total"].value=[e.nhi.value,e.bli.value,e["bli-ret"].value].reduce(function(a,e){return a+ +e},0)})()}();